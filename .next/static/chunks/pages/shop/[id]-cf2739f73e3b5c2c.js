(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6973,520],{74130:function(l,d,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/[id]",function(){return o(98392)}])},20520:function(l,d,o){"use strict";o.r(d),o.d(d,{default:function(){return u}});var i=o(85893);o(67294);var n=o(91491),e=o.n(n),t=o(77262),a=o(11163);function u(l){let{text:d,buttonText:o,link:n="/"}=l,{push:u}=(0,a.useRouter)();return(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:e().wrapper,children:[(0,i.jsx)("img",{src:"/images/delivery.webp",alt:"Empty"}),(0,i.jsx)("p",{className:e().text,children:d}),!!o&&(0,i.jsx)("div",{className:e().actions,children:(0,i.jsx)(t.Z,{onClick:()=>u(n),children:o})})]})})}},98392:function(l,d,o){"use strict";o.r(d),o.d(d,{__N_SSP:function(){return P},default:function(){return E}});var i=o(85893),n=o(67294),e=o(84169),t=o(52773),a=o(72363),u=o(4288),r=o(61225),v=o(80427),s=o(88767),c=o(1612),p=o(11163),h=o(32837),g=o(34349),_=o(64698),m=o(77058),b=o(8423),f=o(5152),x=o.n(f),j=o(95785),w=o(48606),y=o(20520);let C=x()(()=>Promise.resolve().then(o.bind(o,47567)),{loadableGenerated:{webpack:()=>[47567]}}),Z=x()(()=>o.e(5878).then(o.bind(o,35878)),{loadableGenerated:{webpack:()=>[35878]}}),k=x()(()=>Promise.resolve().then(o.bind(o,51766)),{loadableGenerated:{webpack:()=>[51766]}}),N=x()(()=>o.e(3595).then(o.bind(o,3595)),{loadableGenerated:{webpack:()=>[3595]}}),S=x()(()=>o.e(7746).then(o.bind(o,7746)),{loadableGenerated:{webpack:()=>[7746]}}),T=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,t=arguments.length>4?arguments[4]:void 0;return d?Array.from([,,,].keys()).map((l,o)=>(0,i.jsx)(n.Fragment,{children:(0,i.jsx)(u.Z,{products:[],loading:d})},o)):e||(null==l?void 0:l.length)?(null==l?void 0:l.length)?null==l?void 0:l.map(l=>{var o,e;return(0,i.jsx)(n.Fragment,{children:(0,i.jsx)(u.Z,{uuid:l.uuid,title:t||(null===(o=l.translation)||void 0===o?void 0:o.title),products:l.products.concat((null===(e=l.children)||void 0===e?void 0:e.length)>0?l.children.flatMap(l=>l.products):[])||[],loading:d})},l.id)}):(0,i.jsx)("div",{}):(0,i.jsx)(y.default,{text:o})};var P=!0;function E(l){var d,o,f,x,y,P,E,A,G,R,F,O,B,H,I;let{memberState:L}=l,{t:M,i18n:Q}=(0,m.$)(),X=Q.language,q=(0,r.Z)("(min-width:1140px)"),D=(0,r.Z)("(min-width:1799px)"),{query:J,replace:V}=(0,p.useRouter)(),W=Number(J.id),Y=(0,g.C)(_.j),{product:$,isOpen:z}=(0,g.C)(b.Fn),K=(0,g.T)(),U=Boolean(J.product)||z,ll=String(J.product||""),ld=(0,n.useRef)(null),[lo,li]=(0,n.useState)(!1),[ln,le]=(0,n.useState)(""),lt=(0,w.Z)(ln,500);(0,n.useEffect)(()=>{var l,d,o;(null==lr?void 0:null===(l=lr.data)||void 0===l?void 0:null===(d=l.all)||void 0===d?void 0:d.length)&&lo&&((null==lt?void 0:lt.length)?l_(lt):lc((null==lr?void 0:null===(o=lr.data)||void 0===o?void 0:o.all)||[]))},[lt]);let{data:la,error:lu}=(0,s.useQuery)(["shop",W,X],()=>c.Z.getById(W),{keepPreviousData:!0}),{data:lr,isLoading:lv}=(0,s.useQuery)(["products",W,null==Y?void 0:Y.id,X,null==J?void 0:J.category_id,null==J?void 0:J.sub_category_id,null==J?void 0:J.brands],()=>{let l={currency_id:null==Y?void 0:Y.id,category_id:(null==J?void 0:J.sub_category_id)||(null==J?void 0:J.category_id)||void 0};if(null==J?void 0:J.brands){if(Array.isArray(J.brands)){var d;delete l["brand_ids[0]"],l=Object.assign(l,...null==J?void 0:null===(d=J.brands)||void 0===d?void 0:d.map((l,d)=>({["brand_ids[".concat(d,"]")]:l})))}else l=Object.assign(l,{"brand_ids[0]":null==J?void 0:J.brands})}return h.Z.getAllShopProducts(W,l)},{staleTime:0,onSuccess(l){var d;lc((null==l?void 0:null===(d=l.data)||void 0===d?void 0:d.all)||[])}}),[ls,lc]=(0,n.useState)((null==lr?void 0:null===(d=lr.data)||void 0===d?void 0:d.all)||[]),lp=(0,n.useMemo)(()=>{var l,d;return null==lr?void 0:null===(l=lr.data)||void 0===l?void 0:null===(d=l.all)||void 0===d?void 0:d.map(l=>({...l,products:[]}))},[null==lr?void 0:null===(o=lr.data)||void 0===o?void 0:o.all]),lh=()=>{K((0,b.JY)());let l={id:W};(null==J?void 0:J.category_id)&&(l.category_id=null==J?void 0:J.category_id),(null==J?void 0:J.sub_category_id)&&(l.sub_category_id=null==J?void 0:J.sub_category_id),ll&&V({query:l},void 0,{shallow:!0})},lg=()=>{(null==ln?void 0:ln.length)?le(""):li(!1)},l_=(0,n.useCallback)(function(){var l,d,o,i,n,e,t,a,u,r,v,s,c,p,h;let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_=[];if(ld.current){let m=null===(o=ld.current)||void 0===o?void 0:o.getBoundingClientRect(),b=m.top>=0&&m.bottom<=window.innerHeight;b||window.scrollTo({top:(null===(i=ld.current)||void 0===i?void 0:i.offsetTop)-(D?70:q?50:30)})}for(let f=0;f<(null==lr?void 0:null===(l=lr.data)||void 0===l?void 0:null===(d=l.all)||void 0===d?void 0:d.length);f++){let x=null==lr?void 0:null===(n=lr.data)||void 0===n?void 0:null===(e=n.all)||void 0===e?void 0:e[f],j={...null==lr?void 0:null===(t=lr.data)||void 0===t?void 0:null===(a=t.all)||void 0===a?void 0:a[f],products:[]};for(let w=0;w<(null==x?void 0:null===(u=x.products)||void 0===u?void 0:u.length);w++){let y=null==x?void 0:null===(v=x.products)||void 0===v?void 0:v[w];(null===(p=null==y?void 0:null===(s=y.translation)||void 0===s?void 0:null===(c=s.title)||void 0===c?void 0:c.toLowerCase())||void 0===p?void 0:p.includes(null==g?void 0:g.toLowerCase()))&&(null==j||null===(h=j.products)||void 0===h||h.push(y))}(null==j?void 0:null===(r=j.products)||void 0===r?void 0:r.length)&&(null==_||_.push(j))}lc(_)},[null==lr?void 0:null===(f=lr.data)||void 0===f?void 0:f.all]);return lu?(console.log("error => ",lu),V("/"),(0,i.jsx)(N,{})):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.Z,{title:null==la?void 0:null===(x=la.data)||void 0===x?void 0:null===(y=x.translation)||void 0===y?void 0:y.title,description:null==la?void 0:null===(P=la.data)||void 0===P?void 0:null===(E=P.translation)||void 0===E?void 0:E.description,image:(0,j.Z)(null==la?void 0:null===(A=la.data)||void 0===A?void 0:A.logo_img)}),(0,i.jsxs)(t.Z,{data:null==la?void 0:la.data,memberState:L,categories:lp||[],children:[(0,i.jsx)(a.Z,{}),(0,i.jsx)("div",{ref:ld}),lo?(0,i.jsx)(S,{searchTerm:ln,setSearchTerm:le,handleClose:lg}):(0,i.jsx)(v.Z,{categories:lp||[],loading:lv,isPopularVisible:!!(null==lr?void 0:null===(H=lr.data)||void 0===H?void 0:null===(I=H.recommended)||void 0===I?void 0:I.length),openSearch:()=>li(!0)}),(null==lr?void 0:null===(G=lr.data)||void 0===G?void 0:null===(R=G.recommended)||void 0===R?void 0:R.length)&&!(null==lt?void 0:lt.length)?(0,i.jsx)(u.Z,{title:M("popular"),products:(null==lr?void 0:null===(F=lr.data)||void 0===F?void 0:F.recommended)||[],loading:lv}):(0,i.jsx)("div",{}),T(ls,lv,M("no.products.found"),!!(null==lr?void 0:null===(O=lr.data)||void 0===O?void 0:null===(B=O.recommended)||void 0===B?void 0:B.length)&&!(null==lt?void 0:lt.length)),q?(0,i.jsx)(C,{open:!!U,onClose:lh,children:(0,i.jsx)(Z,{handleClose:lh,data:$,uuid:ll})}):(0,i.jsx)(k,{open:!!U,onClose:lh,children:(0,i.jsx)(Z,{handleClose:lh,data:$,uuid:ll})})]})]})}},91491:function(l){l.exports={wrapper:"empty_wrapper__nwTin",text:"empty_text__oRHIv",actions:"empty_actions__NNcWA"}}},function(l){l.O(0,[719,2218,9774,2888,179],function(){return l(l.s=74130)}),_N_E=l.O()}]);