(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7130],{54181:function(t,e,i){"use strict";i.d(e,{Z:function(){return S}});var a=i(63366),n=i(87462),o=i(67294),r=i(86010),s=i(94780),c=i(41796),l=i(36622),d=i(37743),u=i(78884),h=i(67074),p=i(1588),m=i(34867);function g(t){return(0,m.Z)("MuiSwitch",t)}let v=(0,p.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var f=i(85893);let x=["className","color","edge","size","sx"],w=t=>{let{classes:e,edge:i,size:a,color:o,checked:r,disabled:c}=t,d={root:["root",i&&`edge${(0,l.Z)(i)}`,`size${(0,l.Z)(a)}`],switchBase:["switchBase",`color${(0,l.Z)(o)}`,r&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=(0,s.Z)(d,g,e);return(0,n.Z)({},e,u)},b=(0,h.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver(t,e){let{ownerState:i}=t;return[e.root,i.edge&&e[`edge${(0,l.Z)(i.edge)}`],e[`size${(0,l.Z)(i.size)}`]]}})(({ownerState:t})=>(0,n.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===t.edge&&{marginLeft:-8},"end"===t.edge&&{marginRight:-8},"small"===t.size&&{width:40,height:24,padding:7,[`& .${v.thumb}`]:{width:16,height:16},[`& .${v.switchBase}`]:{padding:4,[`&.${v.checked}`]:{transform:"translateX(16px)"}}})),_=(0,h.ZP)(d.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver(t,e){let{ownerState:i}=t;return[e.switchBase,{[`& .${v.input}`]:e.input},"default"!==i.color&&e[`color${(0,l.Z)(i.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${v.checked}`]:{transform:"translateX(20px)"},[`&.${v.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${v.checked} + .${v.track}`]:{opacity:.5},[`&.${v.disabled} + .${v.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${"light"===t.palette.mode?.12:.2}`},[`& .${v.input}`]:{left:"-100%",width:"300%"}}),({theme:t,ownerState:e})=>(0,n.Z)({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,c.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==e.color&&{[`&.${v.checked}`]:{color:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,c.Fq)(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${v.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e.color}DisabledColor`]:`${"light"===t.palette.mode?(0,c.$n)(t.palette[e.color].main,.62):(0,c._j)(t.palette[e.color].main,.55)}`}},[`&.${v.checked} + .${v.track}`]:{backgroundColor:(t.vars||t).palette[e.color].main}})),k=(0,h.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${"light"===t.palette.mode?.38:.3}`})),j=(0,h.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),y=o.forwardRef(function(t,e){let i=(0,u.Z)({props:t,name:"MuiSwitch"}),{className:o,color:s="primary",edge:c=!1,size:l="medium",sx:d}=i,h=(0,a.Z)(i,x),p=(0,n.Z)({},i,{color:s,edge:c,size:l}),m=w(p),g=(0,f.jsx)(j,{className:m.thumb,ownerState:p});return(0,f.jsxs)(b,{className:(0,r.Z)(m.root,o),sx:d,ownerState:p,children:[(0,f.jsx)(_,(0,n.Z)({type:"checkbox",icon:g,checkedIcon:g,ref:e,ownerState:p},h,{classes:(0,n.Z)({},m,{root:m.switchBase})})),(0,f.jsx)(k,{className:m.track,ownerState:p})]})});var S=y},47038:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/notification",function(){return i(35143)}])},91662:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});var a=i(85893);i(67294);var n=i(67074),o=i(54181);let r=(0,n.ZP)(o.Z)({width:60,height:30,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:"5px 7px",transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(26px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:"#83EA00",opacity:1,border:"0.8px solid #76D003 !important"},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:"#E7E7E7"},"&.Mui-disabled + .MuiSwitch-track":{opacity:.7}},"& .MuiSwitch-thumb":{boxSizing:"border-box",position:"relative",width:20,height:20,backgroundColor:"var(--secondary-bg)",boxShadow:"0px 2px 2px rgba(66, 113, 6, 0.4)","&::after":{content:"''",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:2,height:6,borderRadius:100,backgroundColor:"var(--grey)"}},"& .MuiSwitch-track":{borderRadius:54,backgroundColor:"var(--border)",opacity:1,transition:"background-color 0.5s",border:"0 !important"}});function s(t){return(0,a.jsx)(r,{...t,disableRipple:!0})}},75619:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});var a=i(85893);i(67294);var n=i(70754),o=i(78179),r=i.n(o);function s(t){let{}=t;return(0,a.jsx)("div",{className:r().loading,children:(0,a.jsx)(n.Z,{})})}},84169:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var a=i(85893);i(67294);var n=i(9008),o=i.n(n),r=i(5848),s=i(3075);function c(t){let{title:e,description:i=s.KM,image:n=s.T5,keywords:c=s.cU}=t,l=r.o6,d=e?e+" | "+s.k5:s.k5;return(0,a.jsxs)(o(),{children:[(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("meta",{charSet:"utf-8"}),(0,a.jsx)("title",{children:d}),(0,a.jsx)("meta",{name:"description",content:i}),(0,a.jsx)("meta",{name:"keywords",content:c}),(0,a.jsx)("meta",{property:"og:type",content:"Website"}),(0,a.jsx)("meta",{name:"title",property:"og:title",content:d}),(0,a.jsx)("meta",{name:"description",property:"og:description",content:i}),(0,a.jsx)("meta",{name:"author",property:"og:author",content:l}),(0,a.jsx)("meta",{property:"og:site_name",content:l}),(0,a.jsx)("meta",{name:"image",property:"og:image",content:n}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,a.jsx)("meta",{name:"twitter:title",content:d}),(0,a.jsx)("meta",{name:"twitter:description",content:i}),(0,a.jsx)("meta",{name:"twitter:site",content:l}),(0,a.jsx)("meta",{name:"twitter:creator",content:l}),(0,a.jsx)("meta",{name:"twitter:image",content:n}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.png"})]})}},35143:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return y}});var a=i(85893),n=i(67294),o=i(84169),r=i(41664),s=i.n(r),c=i(77058),l=i(78657),d=i.n(l),u=i(11163),h=i(75619);function p(t){let{children:e,loading:i}=t,{t:n}=(0,c.$)(),{pathname:o}=(0,u.useRouter)();return(0,a.jsx)("section",{className:d().root,children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:d().wrapper,children:[(0,a.jsxs)("div",{className:d().header,children:[(0,a.jsx)("h1",{className:d().title,children:n("settings")}),(0,a.jsxs)("div",{className:d().navigation,children:[(0,a.jsx)(s(),{href:"/setting/payment",className:"".concat(d().item," ").concat(o.includes("payment")?d().active:""," ").concat(d().disabled),children:n("payment")}),(0,a.jsx)(s(),{href:"/settings/notification",className:"".concat(d().item," ").concat(o.includes("notification")?d().active:""),children:n("notification")})]})]}),(0,a.jsx)("main",{className:d().main,children:i?(0,a.jsx)(h.Z,{}):e})]})})})}var m=i(79072),g=i(51241),v=i.n(g),f=i(91662),x=i(88767),w=i(45641),b=i(73714),_=i(68416),k=i(29969);function j(t){var e,i;let{data:o}=t,{t:r}=(0,c.$)(),{user:s}=(0,k.a)(),[l,d]=(0,n.useState)((null==s?void 0:null===(e=s.notifications)||void 0===e?void 0:e.length)?null==s?void 0:null===(i=s.notifications)||void 0===i?void 0:i.reduce((t,e)=>{var i;return{...t,[e.id]:Boolean(null==e?void 0:null===(i=e.notification)||void 0===i?void 0:i.active)}},{}):o.reduce((t,e)=>({...t,[e.id]:!1}),{})),{mutate:u}=(0,x.useMutation)({mutationFn:t=>w.Z.updateNotifications(t),onError(){(0,b.vU)(r("try_again"))}});(0,_.Z)(()=>{let t=Object.entries(l).map(t=>({notification_id:t[0],active:Number(t[1])}));u({notifications:t})},[l]);let h=t=>{d({...l,[t.target.name]:t.target.checked})};return(0,a.jsx)("div",{className:v().wrapper,children:(0,a.jsx)(m.ZP,{container:!0,children:(0,a.jsx)(m.ZP,{item:!0,xs:12,md:8,children:o.map(t=>(0,a.jsxs)("div",{className:v().flex,children:[(0,a.jsx)("div",{className:v().text,children:r(t.type)}),(0,a.jsxs)("div",{className:v().switch,children:[(0,a.jsx)(f.Z,{name:String(t.id),checked:l[t.id],onChange:h}),(0,a.jsx)("div",{className:v().value,children:l[t.id]?r("on"):r("off")})]})]},t.id))})})})}function y(t){let{}=t,{i18n:e}=(0,c.$)(),i=e.language,{data:n,isLoading:r}=(0,x.useQuery)(["notifications",i],()=>w.Z.getNotifications());return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)(p,{loading:r,children:(0,a.jsx)(j,{data:(null==n?void 0:n.data)||[]})})]})}},78179:function(t){t.exports={loading:"loading_loading__hXLim",pageLoading:"loading_pageLoading__0nn5j"}},51241:function(t){t.exports={wrapper:"notificationSettings_wrapper__FTVD4",flex:"notificationSettings_flex___ZZw_",text:"notificationSettings_text__341Ss",switch:"notificationSettings_switch__KGPIH",value:"notificationSettings_value__8hbDK"}},78657:function(t){t.exports={root:"settings_root___nfYg",wrapper:"settings_wrapper__GePvg",header:"settings_header__91cbk",title:"settings_title__0sGpi",navigation:"settings_navigation__0IdWz",item:"settings_item__ky6Vg",disabled:"settings_disabled__pV_DC",active:"settings_active__TrFh7",main:"settings_main__rRnTv"}},9008:function(t,e,i){t.exports=i(83121)}},function(t){t.O(0,[9072,9774,2888,179],function(){return t(t.s=47038)}),_N_E=t.O()}]);