(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5636],{45636:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return b}});var l=t(85893),a=t(67294),s=t(77058),n=t(80865),r=t(56555),d=t.n(r),o=t(77262),c=t(27484),u=t.n(c),m=t(80892),_=t(85028),v=t(17662),h=t(11154),y=t(59041),p=t(30719),f=t(71911),x=t(61225);function b(e){let{data:i,handleChangeDeliverySchedule:t,handleClose:r}=e,{t:c}=(0,s.$)(),b=(0,x.Z)("(min-width:1140px)"),[j,N]=(0,a.useState)(null),[T,w]=(0,a.useState)(0),[g,k]=(0,a.useState)([]),M=(0,a.useCallback)(()=>{var e;let t=u()().add(T,"day"),l=t.isSame(u()()),a=_.p[t.day()],s=null==i?void 0:null===(e=i.shop_working_days)||void 0===e?void 0:e.find(e=>e.day===a);if(s&&!(0,y.Z)(T,i)){let n=s.from.replace("-",":"),r=s.to.replace("-",":"),d=(0,v.ZP)(n,r,l);k(d),N(null)}else k([]),N(null)},[T,i]);(0,a.useEffect)(()=>{M()},[i,M]);let S=e=>{N(e.target.value)},Z=e=>({checked:j===e,onChange:S,value:e,id:e,name:"delivery_time",inputProps:{"aria-label":e}}),D=()=>N(null),P=()=>{if(!j)return;let e=I(j),i=u()().add(T,"day").format("YYYY-MM-DD");t({time:e,date:i}),r()};function C(e){let i=u()().add(e,"day");return{day:i,weekDay:function(e){let i=e.isSame(u()()),t=e.isSame(u()().add(1,"day"));return i?h.Z.t("today"):t?h.Z.t("tomorrow"):e.format("dddd")}(i)}}function I(e){var t,l;let a=(0,v.H1)(e),s=parseInt((null==i?void 0:null===(t=i.delivery_time)||void 0===t?void 0:t.to)||"0");(null==i?void 0:null===(l=i.delivery_time)||void 0===l?void 0:l.type)==="hour"&&(s=60*parseInt(i.delivery_time.to));let n=(0,v.Ps)(a+s);return"".concat(e," - ").concat(n)}return(0,l.jsxs)("div",{className:d().wrapper,children:[(0,l.jsx)("div",{className:d().header,children:(0,l.jsx)("h2",{className:d().title,children:c("time_schedule")})}),(0,l.jsx)("div",{className:d().tabs,children:(0,l.jsx)(p.tq,{spaceBetween:16,slidesPerView:"auto",navigation:b,modules:[f.W_,f.s5],className:"tab-swiper",allowTouchMove:!b,children:_.p.map((e,i)=>(0,l.jsx)(p.o5,{children:(0,l.jsxs)("button",{type:"button",className:"".concat(d().tab," ").concat(T===i?d().active:""),onClick:()=>w(i),children:[(0,l.jsx)("span",{className:d().text,children:C(i).weekDay}),(0,l.jsx)("p",{className:d().subText,children:C(i).day.format("MMM DD")})]})},e))})}),(0,l.jsxs)("div",{className:d().body,children:[g.map((e,i,t)=>(0,l.jsxs)("div",{className:d().row,style:{display:t[i+1]?"flex":"none"},children:[(0,l.jsx)(n.Z,{...Z(e)}),(0,l.jsx)("label",{className:d().label,htmlFor:e,children:(0,l.jsx)("span",{className:d().text,children:I(e)})})]},e)),0===g.length&&(0,l.jsx)("div",{children:c("shop.closed.choose.other.day")})]}),(0,l.jsxs)("div",{className:d().footer,children:[(0,l.jsx)("div",{className:d().action,children:(0,l.jsx)(o.Z,{onClick:P,children:c("save")})}),(0,l.jsx)("div",{className:d().action,children:(0,l.jsx)(m.Z,{onClick:D,children:c("clear")})})]})]})}},17662:function(e,i,t){"use strict";t.d(i,{H1:function(){return s},Ps:function(){return n},ZP:function(){return r}});var l=t(27484),a=t.n(l);let s=e=>e.split(":").reduce((e,i)=>60*e+ +i),n=e=>Math.floor(e/60).toLocaleString("en-US",{minimumIntegerDigits:2})+":"+(e%60).toLocaleString("en-US",{minimumIntegerDigits:2});function r(e,i,t){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=s(e),d=s(i),o=t?s(a()().add(l,"minute").format("HH:00")):0;return o>d?[]:(o>r&&(r=o),Array.from({length:Math.floor((d-r)/l)+1},(e,i)=>n(r+i*l)))}},56555:function(e){e.exports={wrapper:"deliveryTimes_wrapper__l6KX_",header:"deliveryTimes_header__Y5NUn",title:"deliveryTimes_title__NOnZ2",tabs:"deliveryTimes_tabs__jbI3F",tab:"deliveryTimes_tab__BQcng",disabled:"deliveryTimes_disabled__p6aRs",text:"deliveryTimes_text__IE6bA",subText:"deliveryTimes_subText__M_OqM",active:"deliveryTimes_active__1crnt",body:"deliveryTimes_body___8Kii",row:"deliveryTimes_row__4AYPt",label:"deliveryTimes_label__yQILx",footer:"deliveryTimes_footer__NRLyh",action:"deliveryTimes_action__LLPKM"}}}]);